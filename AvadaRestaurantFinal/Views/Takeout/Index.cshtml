@using AvadaRestaurantFinal.Models
@model List<Product>
@{
    ViewData["Title"] = "Index";
}
<div class="loader-wrapper">
    <span class="loader"><span class="loader-inner"></span></span>

</div>
<!-- Section 1 Start -->
<section style="width: 100%; height: 418.97px;">
    <div class="Section1-ImageSide-Takeout">
        <img style="object-fit: cover;" height="418.97px" width="100%" src="~/img/page172x-scaled.jpg" alt="">
    </div>
    <div class="Section1-TextSide-Takeout">
        <h6>BEST TABLE IN TOWN</h6>
        <h1>Our Takeout Menu</h1>
    </div>
</section>
<!-- Section 1 End -->

<style>
    .Section2-Header-Takeout {
        display: flex;
        justify-content: space-between;
        margin-right: 14%;
        align-items:center;
    }
        .Section2-Header-Takeout  input[type=text] {
            width: 180px;
            height: 50px;
/*            box-sizing: border-box;
*/            border: 2px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            background-color: white;
/*            background-image: url('searchicon.png');
*/          background-position: 10px 10px;
            background-repeat: no-repeat;
            padding: 12px 20px 12px 15px;
/*            -webkit-transition: width 0.4s ease-in-out;
*/          transition: all 0.4s ease-in-out;
            margin-top:10px;
        }

   
        ul li 
        {
            list-style-type:none;
        }
    #search-list {
        position: absolute;
        z-index: 2;
        margin-top: 7px;
        
        
        
    }
        
    
</style>
<!-- Section 2 Start -->
<section>
    
    <div class="Section2-Header-Takeout">
        <div>
            <i>
                Hors d’oeuvres
            </i>
            <hr width="70px">
        </div>
        <div>
            <input id="input-search" type="text" placeholder="Search..">
            <ul id="search-list">
                <li>
                </li>
            </ul>
        </div>
    </div>
    <div class="Section2-ProductForFlex-Takeout">
        @foreach (var item in Model)
        {

            @if (item.CategoryId == 1)
            {
                <div class="Section2-ProductCard-Takeout">
                    <div class="Section2-ImageSide-Takeout">
                        <div class="Section2-ImageSide-ImageAndText-Takeout">
                            <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">
                                <img src="~/img/@item.ImageUrlTakeOutSide" alt="">
                            </a>
                            <div class="Section2-BackroundText-Takeout">
                                @if (User.Identity.IsAuthenticated) {<a asp-controller="Basket" asp-action="AddBasket" asp-route-id="@item.Id">ADD TO CART</a>}else{<a asp-controller="Account" asp-action="Login">ADD TO CART</a>}   <a href="">/</a>   <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">DETAILS</a>
                            </div>
                        </div>
                        <div class="Section2-Textside-Takeout">
                            <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">@item.Name</a>
                            <span>$@item.Price.00</span>
                        </div>
                    </div>
                </div>
            }

        }

    </div>
</section>
<!-- Section 2 End -->
<!-- Section 3 Start -->
<section>
    @*<div class="Section3-Takeout">
            <img src="~/img/page72x.jpg" alt="">
            <div class="Section3-TextSide-Takeout">
                <span>BLACK PUDDING - $25</span>
            </div>
        </div>*@

    <div class="owl-carousel owl-carousel-1">
        @foreach (var item in Model)
        {
            if (item.CategoryId == 1)
            {
                <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">

                    <div class="Section3-Takeout">
                        <img style="object-fit:cover;" height="450px" src="~/img/@item.ImageUrlTakeOutSide" alt="Alternate Text" />

                        <div class="Section3-TextSide-Takeout">
                            <span>@item.Name</span>
                        </div>

                    </div>
                </a>


            }
        }
    </div>
</section>
<!-- Section 3 End -->
<!-- Section 4 Start -->
<section>
    <div class="Section4-Header-Takeout">
        <i>
            Main Course
        </i>
        <hr width="70px">
    </div>
    <div class="Section4-ProductForFlex-Takeout">
        @foreach (var item in Model)
        {
            if (item.CategoryId == 2)
            {
                <div class="Section4-ProductCard-Takeout">
                    <div class="Section4-ImageSide-Takeout">
                        <div class="Section4-ImageSide-ImageAndText-Takeout">
                            <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">
                                <img src="~/img/@item.ImageUrlTakeOutSide" alt="">
                            </a>
                            <div class="Section4-BackroundText-Takeout">
                                @if (User.Identity.IsAuthenticated) {<a asp-controller="Basket" asp-action="AddBasket" asp-route-id="@item.Id">ADD TO CART</a>}else{<a asp-controller="Account" asp-action="Login">ADD TO CART</a>}   <a href="">/</a>   <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">DETAILS</a>
                            </div>
                        </div>
                        <div class="Section4-Textside-Takeout">
                            <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">@item.Name</a>
                            <span>$@item.Price.00</span>
                        </div>
                    </div>
                </div>
            }

        }
    </div>
</section>
<!-- Section 4 End -->
<!-- Section 5 Start -->
<section>
    @*<div class="Section3-Takeout">
            <img src="~/img/page82x.jpg" alt="">
            <div class="Section3-TextSide-Takeout">
                <span>MAPLE MOUSE WITH CHICKPEAS - $22</span>
            </div>
        </div>*@

    <div class="owl-carousel owl-carousel-2">
        @foreach (var item in Model)
        {
            if (item.CategoryId == 2)
            {
                <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">

                    <div class="Section3-Takeout">
                        <img style="object-fit:cover;" height="450px" src="~/img/@item.ImageUrlTakeOutSide" alt="Alternate Text" />

                        <div class="Section3-TextSide-Takeout">
                            <span>@item.Name</span>
                        </div>

                    </div>
                </a>


            }
        }
    </div>
</section>
<!-- Section 5 End -->
<!-- Section 6 Start -->
<section style="margin-bottom:13%;">
    <div class="Section6-Header-Takeout">
        <i>
            Desserts
        </i>
        <hr width="70px">
    </div>
    <div class="Section6-ProductForFlex-Takeout">
        @foreach (var item in Model)
        {
            if (item.CategoryId == 3)
            {
                <div class="Section6-ProductCard-Takeout">
                    <div class="Section6-ImageSide-Takeout">
                        <div class="Section6-ImageSide-ImageAndText-Takeout">
                            <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">
                                <img src="~/img/@item.ImageUrlTakeOutSide" alt="">
                            </a>                        <div class="Section6-BackroundText-Takeout">
                                @if (User.Identity.IsAuthenticated) {<a asp-controller="Basket" asp-action="AddBasket" asp-route-id="@item.Id">ADD TO CART</a>}else{<a asp-controller="Account" asp-action="Login">ADD TO CART</a>}   <a href="">/</a>   <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">DETAILS</a>
                            </div>
                        </div>
                        <div class="Section6-Textside-Takeout">
                            <a asp-controller="Takeout" asp-action="ProductTakeoutDetail" asp-route-id="@item.Id">@item.Name</a>
                            <span>$@item.Price.00</span>
                        </div>
                    </div>
                </div>
            }

        }

    </div>
</section>
<!-- Section 6 End -->
@section Scripts{
    <script>
        $(document).on("keyup", "#input-search", function () {
            let search = $("#input-search").val().trim();

            $("#search-list li").slice(1).remove();
            
            if (search.length>0) {
                $.ajax({
                    url: "/takeout/search?search=" + search,
                    type: "get",
                    success: function (res) {
                        $("#search-list").append(res);
                    }
                })
            }
        })
    </script>
 }